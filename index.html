<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/fb_facebok_validation/style.css">
    <title>Document</title>

    <!-- Script starts here -->

    <script>
        var fucn_call = 0;
        function validate()
        {
            fucn_call++;
            if(fucn_call <= 5)
            {
                document.getElementById("side-div1").innerHTML = null;
                document.getElementById("side-div2").innerHTML = null;
                document.getElementById("side-div3").innerHTML = null;
                document.getElementById("side-div4").innerHTML = null;
                document.getElementById("side-div5").innerHTML = null;
                document.getElementById("side-div6").innerHTML = null;
                var fname = document.getElementById("fname").value;
                var sname = document.getElementById("lname").value;
                const email = document.getElementById("email").value;
                var pass = document.getElementById("pass").value;
                var year = document.getElementById("year").value;

                // Challenge #02 Part:1 using custom algorithm
                
                // const searchterm1 = '@';
                // const firstsearch = email.indexOf(searchterm1);
                // const secondsearch = email.indexOf('.', firstsearch);
                // const email1 = email.length;
                // var final = email1 - secondsearch;

                // Challenge #02 Part:1 using custom algorithm            
                
                
                if ( fname == "" || fname == null || fname.length > 15)
                {
                    document.getElementById("side-div1").innerHTML = "<img src=\"/fb_facebok_validation/name.jpg\">";
                    return false;
                }
                else if ( sname == "" || sname == null || sname.length > 15)
                {
                    document.getElementById("side-div2").innerHTML = "<img src=\"/fb_facebok_validation/name.jpg\">";
                    return false;
                }
                
                else if ( email == "" || email == null)
                {
                    document.getElementById("side-div3").innerHTML = "<img src=\"/fb_facebok_validation/emailpurpose.jpg\">";
                    return false;
                }

                // Challenge #02 Part:1 using custom algorithm

                // if (final < 3 || final > 4) 
                // {
                //     document.getElementById("side-div3").innerHTML = "<img src=\"/fb_facebok_validation/emailpurpose.jpg\">";
                //     return false;
                // }

                // Challenge #02 Part:1 using custom algorithm 
                

                // Challenge # 01 of Sir Awais start

                // else if (email.startsWith('@'))
                // {
                //     document.getElementById("side-div3").innerHTML = "<img src=\"/fb_facebok_validation/validemail.jpg\">";
                //     return false;
                // }

                // Challenge #01 of Sir Awais end
                
                // Challenge #02 Part:2 using built in fucntion of js 
                else if (isNaN(email))
                {
                    var emailver = emailIsValid(email)
                    if (emailver == false)
                    {
                        document.getElementById("side-div3").innerHTML = "<img src=\"/fb_facebok_validation/validemail.jpg\">";
                        return false;
                    }
                }
                else if(email.length >= 13)
                {
                    document.getElementById("side-div3").innerHTML = "<img src=\"/fb_facebok_validation/validemail.jpg\">";
                    return false;
                }
                // Challenge #02 Part:2 using built in fucntion of js

                if ( pass == "" || pass == null || pass.length < 6)
                {
                    document.getElementById("side-div4").innerHTML = "<img src=\"/fb_facebok_validation/pass.jpg\">";
                    return false;
                }
                else if ( year == 2012 || year == 2013 || year == 2014 || year == 2015 || year == 2016 || year == 2017 || year == 2018 || year == 2019 || year == 2020)
                {
                    document.getElementById("side-div5").innerHTML = "<img src=\"/fb_facebok_validation/birthday.jpg\">";
                    return false;
                }
                var gcheck = document.querySelector('input[name="gender"]:checked');
                if (gcheck == null)
                {
                    document.getElementById("side-div6").innerHTML = "<img src=\"/fb_facebok_validation/gender.jpg\">";
                    return false;
                }
        }
            else 
            {
                document.getElementById("side-div7").innerHTML = "WARNING. We have detected suspicious activity from your IP. Your IP has been blocked from accessing our website for 10 seconds.";
                document.getElementById("mySubmit").disabled = true;
                setTimeout(function(){ document.getElementById("mySubmit").disabled = false;
                document.getElementById("side-div7").innerHTML = null}, 10000);
                fucn_call = 0;
                return false;
            }
        }

        // email validation check start
        function emailIsValid (email) 
        {
            return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)
        }        
        // email validation check end

    </script>

    <!-- Script ends here -->

</head>

<body>

    <!-- main body of login form starts -->

    <div class="container ">
        <h2 class="a1">Welcome</h2>
        <h4 class="a1">Signup using your email or Phone number</h4>

        <!-- form tag starts here -->

        <form action="a,php" method="GET" onsubmit="return validate()">
            <div class="form inp2">

                <input type="text" id="fname" class="form-field inp" placeholder="First Name">
                <div id="side-div1" class = "side"></div>

                <input type="text" id="lname" class="form-field inp" placeholder="Surname">
                <div id="side-div2" class = "side"></div>

                <input type="text" id="email" class="form-field inp" placeholder="Mobile number or Email Address">
                <div id="side-div3" class = "side"></div>

                <input type="password" id="pass" class="form-field inp" placeholder="New Password">
                <div id="side-div4" class = "side"></div>

                <p>DOB</p>

                <select style="margin-left: 430px;" aria-label="Day" name="birthday_day" id="day d2" title="Day"
                    class="_9407 _5dba _9hk6 _8esg " tabindex="0" aria-describedby="js_2">
                    <option value="0">Day</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected="1">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                </select>

                <select aria-label="Month" name="birthday_month" id="month" title="Month"
                    class="_9407 _5dba _9hk6 _8esg ">
                    <option value="0">Month</option>
                    <option value="1">Jan</option>
                    <option value="2">Feb</option>
                    <option value="3">Mar</option>
                    <option value="4">Apr</option>
                    <option value="5">May</option>
                    <option value="6">Jun</option>
                    <option value="7">Jul</option>
                    <option value="8">Aug</option>
                    <option value="9">Sep</option>
                    <option value="10">Oct</option>
                    <option value="11" selected="1">Nov</option>
                    <option value="12">Dec</option>
                </select>

                <select aria-label="Year" name="birthday_year" id="year" title="Year" class="_9407 _5dba _9hk6 _8esg ">
                    <option value="0">Year</option>
                    <option value="2020" selected="1">2020</option>
                    <option value="2019">2019</option>
                    <option value="2018">2018</option>
                    <option value="2017">2017</option>
                    <option value="2016">2016</option>
                    <option value="2015">2015</option>
                    <option value="2014">2014</option>
                    <option value="2013">2013</option>
                    <option value="2012">2012</option>
                    <option value="2011">2011</option>
                    <option value="2010">2010</option>
                    <option value="2009">2009</option>
                    <option value="2008">2008</option>
                    <option value="2007">2007</option>
                    <option value="2006">2006</option>
                    <option value="2005">2005</option>
                    <option value="2004">2004</option>
                    <option value="2003">2003</option>
                    <option value="2002">2002</option>
                    <option value="2001">2001</option>
                    <option value="2000">2000</option>
                    <option value="1999">1999</option>
                    <option value="1998">1998</option>
                    <option value="1997">1997</option>
                    <option value="1996"></option>
                </select>
                <div id="side-div5" class = "side"> </div><br>
                <div class="rare2">

                    <input type="radio" name="gender" value="male" id="rad"> Male
                    <input type="radio" name="gender" value="female"> Female
                    <input type="radio" name="gender" value="other"> Custom
                    <div id="side-div6" class = "side2"> </div><br>
                </div>
                <button type="submit" class="btn btn-primary inp" id="mySubmit">SIGNUP</button>
            </div>
        </form>
        <!-- form tag ends here -->
        <div class="container side3" id="side-div7">
        </div>
    </div>

    <!-- main body of login form ends -->

</body>

</html>